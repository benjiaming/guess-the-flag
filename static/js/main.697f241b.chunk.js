(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(t,e,n){t.exports=n(21)},19:function(t,e,n){},21:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),c=n(9),o=n.n(c),i=n(12),s=n(2),u=n(3),l=n(5),h=n(4),m=n(1),d=n(6),f=(n(19),function(t){var e=t.showHint,n=t.hint,r=t.onClick;return e?a.a.createElement("div",{className:"hint-text"},n):a.a.createElement("button",{className:"hint-button",onClick:r},"Reveal a hint")}),C=function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(l.a)(this,Object(h.a)(e).call(this,t))).handleClick=n.handleClick.bind(Object(m.a)(n)),n}return Object(d.a)(e,t),Object(u.a)(e,[{key:"handleClick",value:function(t){this.props.onClick(parseInt(t.target.dataset.attr,10))}},{key:"render",value:function(){var t=this,e=this.props,n=e.selectCountries,r=e.currentCountry,c=e.numCorrect,o=e.numIncorrect,i=e.incorrectGuesses,s=e.showHint,u=e.handleHint,l=e.hint,h=n[r],m=n.map(function(t,e){var n="country-name";return i.has(e)&&(n+=" wrong-guess"),a.a.createElement("span",{key:e,className:n,"data-attr":e},t.name)});return a.a.createElement("div",{className:"flag-box"},a.a.createElement("div",{className:"countries",onClick:function(e){return t.handleClick(e)}},m),a.a.createElement(f,{showHint:s,onClick:function(){return u()},hint:l}),a.a.createElement("div",{className:"flag"},a.a.createElement("img",{src:h.flag,alt:"flag"})),a.a.createElement("div",{className:"score"},"Correct: ",c," Incorrect: ",o))}}]),e}(a.a.Component),v=n(7),p=n.n(v),b=n(10),k=n(11),w=function(t){return e=t.length-1,Math.floor(Math.random()*e);var e},g=function(t,e){var n;return function(t){for(var e=t.length-1;e>=0;e--){var n=Math.floor(Math.random()*(t.length-1)),r=[t[n],t[e]];t[e]=r[0],t[n]=r[1]}return t}((n=t.length,Object(k.a)(Array(n).keys()))).slice(0,e).map(function(e){return t[e]})},y=function(t){return w(t)},j=function(t){return"This country is located in ".concat(t.subregion,". It's capital is ").concat(t.capital,".")};function O(){return(O=Object(b.a)(p.a.mark(function t(e){var n,r,a,c,o;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return"https://restcountries.com/v2/all",t.next=3,fetch("https://restcountries.com/v2/all").then(function(t){return t.json()});case 3:return n=t.sent,r=n.map(function(t){return{name:t.name,flag:t.flag,capital:t.capital,subregion:t.subregion}}),a=g(r,e),c=y(a),o=j(a[c]),t.abrupt("return",{countries:r,selectCountries:a,currentCountry:c,hint:o,loaded:!0});case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}var E=function(){return a.a.createElement("header",null,"Guess The Flag")},H=function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(l.a)(this,Object(h.a)(e).call(this,t))).state={countries:[],currentCountry:void 0,selectCountries:[],loaded:!1,numCorrect:0,numIncorrect:0,incorrectGuesses:new Set,hint:"",showHint:!1},n.numCountries=4,n.onClick=n.onClick.bind(Object(m.a)(n)),n.handleHint=n.handleHint.bind(Object(m.a)(n)),n}return Object(d.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){var t=this;(function(t){return O.apply(this,arguments)})(this.numCountries).then(function(e){t.setState(Object(i.a)({},e,{loaded:!0}))})}},{key:"onClick",value:function(t){if(void 0!==t)if(this.state.currentCountry===t){var e=g(this.state.countries,this.numCountries),n=y(e),r=j(e[n]);this.setState(function(t){return{numCorrect:t.numCorrect+1,incorrectGuesses:new Set,selectCountries:e,currentCountry:n,hint:r,showHint:!1}})}else{var a=new Set(this.state.incorrectGuesses);a.add(t),this.setState(function(t){return{numIncorrect:t.numIncorrect+1,incorrectGuesses:a}})}}},{key:"handleHint",value:function(){this.setState({showHint:!0})}},{key:"render",value:function(){var t=this.state,e=t.selectCountries,n=t.currentCountry,r=t.loaded,c=t.numCorrect,o=t.numIncorrect,i=t.incorrectGuesses,s=t.showHint,u=t.hint;return a.a.createElement("div",{className:"App"},a.a.createElement(E,null),r?a.a.createElement(C,{countries:e,selectCountries:e,currentCountry:n,onClick:this.onClick,numCorrect:c,numIncorrect:o,incorrectGuesses:i,showHint:s,hint:u,handleHint:this.handleHint}):"Loading")}}]),e}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[13,1,2]]]);
//# sourceMappingURL=main.697f241b.chunk.js.map